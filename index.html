l<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Patient Registration</title>
	<style>
		:root {
			--primary-color: #007bff;
			--secondary-color: #f8f9fa;
			--text-color: #212529;
			--bg-color: #ffffff;
			--input-bg: #f1f1f1;
			--dark-color: #343a40;
		}

		body.dark {
			--primary-color: #0d6efd;
			--secondary-color: #121212;
			--text-color: #f8f9fa;
			--bg-color: #1e1e1e;
			--input-bg: #2a2a2a;
		}
		

		* {
			box-sizing: border-box;
			margin: 0;
			padding: 0;
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		}

		body {
			background-color: var(--secondary-color);
			color: var(--text-color);
			display: flex;
			justify-content: center;
			align-items: center;
			min-height: 100vh;
			padding: 30px;
			transition: background-color 0.3s ease, color 0.3s ease;
		}

		.container {
			background-color: var(--bg-color);
			border-radius: 15px;
			box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
			padding: 40px;
			max-width: 600px;
			width: 100%;
			position: relative;
			transition: background-color 0.3s ease;
		}

		h2 {
			text-align: center;
			margin-bottom: 30px;
			color: var(--primary-color);
		}

		.toggle-theme {
			position: absolute;
			top: 20px;
			right: 20px;
			background: var(--dark-color);
			color: white;
			border: none;
			padding: 10px 12px;
			border-radius: 50%;
			cursor: pointer;
			font-size: 18px;
			transition: background 0.3s ease;
		}

		.toggle-theme:hover {
			background: #1d2124;
		}

		.form-group {
			position: relative;
			margin-top: 25px;
		}

		.form-group input {
			width: 100%;
			padding: 14px 14px 14px 42px;
			border: 1px solid #ccc;
			border-radius: 8px;
			background-color: var(--input-bg);
			font-size: 16px;
			color: var(--text-color);
			transition: border-color 0.3s, background-color 0.3s;
		}

		.form-group input:focus {
			border-color: var(--primary-color);
			background-color: #fff;
			outline: none;
		}

		.form-group input:focus + label,
		.form-group input:not(:placeholder-shown) + label {
			top: -8px;
			font-size: 12px;
			color: var(--primary-color);
		}

		.form-group label {
			position: absolute;
			left: 42px;
			top: 50%;
			transform: translateY(-50%);
			color: #777;
			font-size: 16px;
			background-color: transparent;
			transition: 0.2s ease all;
			pointer-events: none;
		}

		.form-group .icon {
			position: absolute;
			top: 50%;
			left: 12px;
			transform: translateY(-50%);
			font-size: 18px;
			color: #666;
			pointer-events: none;
		}

		select {
			width: 100%;
			padding: 14px 12px 14px 42px;
			border: 1px solid #ccc;
			border-radius: 8px;
			background-color: var(--input-bg);
			font-size: 16px;
			color: var(--text-color);
			appearance: none;
			transition: border-color 0.3s, background-color 0.3s;
		}

		select:focus {
			border-color: var(--primary-color);
			background-color: #fff;
			outline: none;
		}

		.button-group {
			display: flex;
			gap: 15px;
			margin-top: 35px;
		}

		button {
			flex: 1;
			padding: 14px;
			border: none;
			border-radius: 8px;
			font-size: 16px;
			font-weight: bold;
			cursor: pointer;
			transition: background-color 0.3s ease;
		}

		.btn-submit {
			background-color: var(--primary-color);
			color: white;
		}

		.btn-submit:hover {
			background-color: #0056b3;
		}

		.btn-dark {
			background-color: var(--dark-color);
			color: white;
		}

		.btn-dark:hover {
			background-color: #1d2124;
		}

		.btn-loading {
			background-color: #6c757d !important;
			cursor: not-allowed !important;
			position: relative;
		}

		.spinner {
			display: inline-block;
			width: 20px;
			height: 20px;
			border: 3px solid rgba(255, 255, 255, 0.3);
			border-radius: 50%;
			border-top-color: #fff;
			animation: spin 1s ease-in-out infinite;
			margin-right: 8px;
		}

		@keyframes spin {
			to { transform: rotate(360deg); }
		}

		.success-animation {
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			background: linear-gradient(135deg, #28a745, #20c997);
			color: white;
			padding: 30px 40px;
			border-radius: 15px;
			box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
			text-align: center;
			z-index: 1000;
			animation: successSlideIn 0.5s ease-out;
		}

		.success-animation .checkmark {
			font-size: 48px;
			margin-bottom: 15px;
			animation: checkmarkBounce 0.6s ease-in-out 0.2s both;
		}

		.success-animation h3 {
			margin: 0 0 10px 0;
			font-size: 24px;
			animation: textFadeIn 0.5s ease-out 0.4s both;
		}

		.success-animation p {
			margin: 0;
			font-size: 16px;
			opacity: 0.9;
			animation: textFadeIn 0.5s ease-out 0.6s both;
		}

		@keyframes successSlideIn {
			from {
				transform: translate(-50%, -50%) scale(0.3);
				opacity: 0;
			}
			to {
				transform: translate(-50%, -50%) scale(1);
				opacity: 1;
			}
		}

		@keyframes checkmarkBounce {
			0%, 20%, 53%, 80%, 100% {
				transform: translate3d(0, 0, 0);
			}
			40%, 43% {
				transform: translate3d(0, -20px, 0);
			}
			70% {
				transform: translate3d(0, -10px, 0);
			}
			90% {
				transform: translate3d(0, -4px, 0);
			}
		}

		@keyframes textFadeIn {
			from {
				opacity: 0;
				transform: translateY(10px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		.overlay {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.5);
			z-index: 999;
			animation: overlayFadeIn 0.3s ease-out;
		}

		@keyframes overlayFadeIn {
			from { opacity: 0; }
			to { opacity: 1; }
		}

		/* Textarea styles */
		.form-group textarea {
			width: 100%;
			padding: 14px 14px 14px 42px;
			border: 1px solid #ccc;
			border-radius: 8px;
			background-color: var(--input-bg);
			font-size: 16px;
			color: var(--text-color);
			transition: border-color 0.3s, background-color 0.3s;
			resize: vertical;
			min-height: 80px;
			font-family: inherit;
		}

		.form-group textarea:focus {
			border-color: var(--primary-color);
			background-color: #fff;
			outline: none;
		}

		.form-group textarea:focus + label,
		.form-group textarea:not(:placeholder-shown) + label {
			top: -8px;
			font-size: 12px;
			color: var(--primary-color);
			background-color: var(--bg-color);
			padding: 0 5px;
		}

		@media (max-width: 600px) {
			.container {
				padding: 25px 20px;
			}

			h2 {
				font-size: 22px;
			}

			.button-group {
				flex-direction: column;
			}

			.success-animation {
				padding: 25px 30px;
				margin: 0 20px;
			}

			.success-animation h3 {
				font-size: 20px;
			}

			.success-animation .checkmark {
				font-size: 40px;
			}
		}
	</style>
</head>
<body>

	<div class="container">
		<button class="toggle-theme" onclick="toggleTheme()">üåô</button>
		<h2>Patient Registration Form</h2>
			<form id="form" autocomplete="off">

			<div class="form-group">
				<span class="icon">üë§</span>
				<input type="text" id="name" name="name" placeholder=" " required />
				<label for="name">Full Name</label>
			</div>

			<div class="form-group">
				<span class="icon">üéÇ</span>
				<input type="number" id="age" name="age" placeholder=" " required min="0" max="100" oninput="if(this.value > 100) this.value = 100; if(this.value < 0) this.value = 0;"/>
				<label for="age">Age</label>
			</div>          

				<div class="form-group">
					<span class="icon">üìû</span>
					<input type="tel" id="phone" name="phone" placeholder=" " required maxlength="12" oninput="this.value = this.value.replace(/[^0-9+]/g, '')" />
					<label for="phone">Phone Number</label>
				</div>

				
			<div class="form-group">
				<span class="icon">üíâ</span>
				<select id="procedure" name="procedure" required>
					<option value="" disabled selected hidden>Select a procedure</option>
					<option value="Dental Cleaning">Dental Cleaning</option>
					<option value="Root Canal">Root Canal</option>
					<option value="Teeth Whitening">Teeth Whitening</option>
					<option value="Braces Consultation">Braces Consultation</option>
				</select>
			</div>

			<div class="form-group">
				<span class="icon">üë®‚Äç‚öïÔ∏è</span>
				<select id="doctor" name="doctor" required>
					<option value="" disabled selected hidden>Select a doctor</option>
					<option value="Dr. Ahmed Hassen">Dr. Ahmed Hassen</option>
					<option value="Dr. Romissa Ibrahim">Dr. Romissa Ibrahim</option>
					<option value="Dr. Donia">Dr. Donia</option>
					<option value="Dr. Mahmoud Eglan">Dr. Mahmoud Eglan</option>
				</select>
			</div>

			<div class="form-group">
				<span class="icon">üë®‚Äçüíº</span>
				<input type="text" id="assignedBy" name="assignedBy" placeholder=" " required />
				<label for="assignedBy">Assigned By (Your Name)</label>
			</div>

			<div class="form-group">
				<span class="icon">üí∞</span>
				<input type="number" id="payment" name="payment" placeholder=" " required min="0" step="0.01" style="padding-left: 42px; padding-right: 40px;" />
				<label for="payment">Amount Paid</label>
				<span style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: #666;">EGP</span>
			</div>

			<div class="form-group">
				<span class="icon">üìù</span>
				<textarea id="operationDetails" name="operationDetails" placeholder=" " rows="3" required></textarea>
				<label for="operationDetails">Operation Details / Notes</label>
			</div>

			<div class="form-group">
				<span class="icon">üåê</span>
				<select id="from" name="from" required>
					<option value="" disabled selected hidden>Where did you hear about us?</option>
					<option value="Facebook">Facebook</option>
					<option value="Instagram">Instagram</option>
					<option value="Friend">Friend</option>
					<option value="Google">Google</option>
				</select>
			</div>

			<div class="button-group">
				<button type="submit" class="btn-submit">Submit</button>
			</div>
		</form>
	</div>

	<script>
	function toggleTheme() {
		document.body.classList.toggle('dark');
		const button = document.querySelector('.toggle-theme');
		if (document.body.classList.contains('dark')) {
			button.textContent = '‚òÄÔ∏è';
		} else {
			button.textContent = 'üåô';
		}
	}

	function showSuccessAnimation() {
		// Create overlay
		const overlay = document.createElement('div');
		overlay.className = 'overlay';
		document.body.appendChild(overlay);

		// Create success animation
		const successDiv = document.createElement('div');
		successDiv.className = 'success-animation';
		successDiv.innerHTML = `
			<div class="checkmark">‚úÖ</div>
			<h3>Registration Successful!</h3>
			<p>Your appointment has been booked successfully</p>
		`;
		document.body.appendChild(successDiv);

		// Remove after 3 seconds
		setTimeout(() => {
			overlay.remove();
			successDiv.remove();
		}, 3000);
	}

	document.getElementById("form").addEventListener("submit", function(e) {
		e.preventDefault();

		const submitButton = document.querySelector('.btn-submit');
		const originalText = submitButton.innerHTML;

		// Show loading state
		submitButton.innerHTML = '<span class="spinner"></span>Submitting...';
		submitButton.classList.add('btn-loading');
		submitButton.disabled = true;

		const baseURL = "https://script.google.com/macros/s/AKfycbyM1kYQCWYeEMea1buPqayIEhWv3e0Gl7fV1Ks8XuEkuGMC-9Nu4HugY92DCXQiZPYi/exec";
		const params = new URLSearchParams();
		params.append("name", document.getElementById("name").value);
		params.append("age", document.getElementById("age").value);
		params.append("procedure", document.getElementById("procedure").value);
		params.append("doctor", document.getElementById("doctor").value);
		params.append("phone", document.getElementById("phone").value);
		params.append("assignedBy", document.getElementById("assignedBy").value);
		params.append("payment", document.getElementById("payment").value);
		params.append("operationDetails", document.getElementById("operationDetails").value);
		params.append("from", document.getElementById("from").value);

		fetch(`${baseURL}?${params.toString()}`)
			.then(res => res.text())
			.then(text => {
				// Reset button
				submitButton.innerHTML = originalText;
				submitButton.classList.remove('btn-loading');
				submitButton.disabled = false;

				// Show success animation
				showSuccessAnimation();

				// Reset form
				document.getElementById("form").reset();
			})
			.catch(err => {
				// Reset button
				submitButton.innerHTML = originalText;
				submitButton.classList.remove('btn-loading');
				submitButton.disabled = false;

				alert("‚ùå Failed to submit: " + err);
			});
	});
	</script>
</body>
</html>
